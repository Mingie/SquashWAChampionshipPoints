@page
@model squashwachampionshippoints.Pages.Players.EditPageModel
@{
}

<div class="row justify-content-center">
    <div class="col-md-12">
        <h1 class="text-center">Edit Tournament</h1>
    </div>
</div>

<form method="POST">
    <div class="form-row">
        <div class="col-md-6">
            <!-- Left column -->
            <div class="form-group">
                <label for="date">Date:</label>
                <input type="date" class="form-control" id="date" name="date" required>
            </div>
            <input type="hidden" name="level" value="PSA" value="@Model.tournamentInfo.level">
            <input type="hidden" name="drawSize" value="16" value="@Model.tournamentInfo.drawSize">
            <div class="form-group">
                <label for="tournamentName">Tournament Name:</label>
                <input type="text" class="form-control" id="tournamentName" name="tournamentName" required>
            </div>
        </div>
        <div class="col-md-6">
            <!-- Right column -->
            <div class="form-group">
                <label for="champion">Champion:</label>
                <input list="menPlayers" class="form-control" id="champion" name="champion" value="@Model.tournamentInfo.champion" required>
                <datalist id="menPlayers">
                    @if (Model.MenPlayers != null && Model.MenPlayers.Any())
                    {
                        var sortedPlayers = Model.MenPlayers.OrderByDescending(player => player.championshipPoints);
                        foreach (var player in sortedPlayers)
                        {
                            <option value="@($"{player.firstName} {player.lastName} - {player.championshipPoints}")"></option>
                        }
                    }
                    else
                    {
                        <option value="">No male players available</option>
                    }
                </datalist>
            </div>
            <div class="form-group">
                <label for="runnerUp">Runner Up:</label>
                <input list="menPlayers" class="form-control" id="runnerUp" name="runnerUp" value="@Model.tournamentInfo.runnerUp" required>
            </div>
        </div>
    </div>

    <div class="form-row">
        <div class="col-md-6">
            <!-- Left column -->
            <div class="form-group">
                <label for="sf1">Semi-Finalist 1:</label>
                <input list="menPlayers" class="form-control" id="sf1" name="sf1" value="@Model.tournamentInfo.sf1" required>
            </div>
            <div class="form-group">
                <label for="sf2">Semi-Finalist 2:</label>
                <input list="menPlayers" class="form-control" id="sf2" name="sf2" value="@Model.tournamentInfo.sf2" required>
            </div>
        </div>
        <div class="col-md-6">
            <!-- Right column -->
            <div class="form-group">
                <label for="qf1">Quarter-Finalist 1:</label>
                <input list="menPlayers" class="form-control" id="qf1" name="qf1" value="@Model.tournamentInfo.qf1" required>
            </div>
            <div class="form-group">
                <label for="qf2">Quarter-Finalist 2:</label>
                <input list="menPlayers" class="form-control" id="qf2" name="qf2" value="@Model.tournamentInfo.qf2" required>
            </div>
        </div>
    </div>

    <div class="form-row">
        <div class="col-md-6">
            <!-- Left column -->
            <div class="form-group">
                <label for="qf3">Quarter-Finalist 3:</label>
                <input list="menPlayers" class="form-control" id="qf3" name="qf3" value="@Model.tournamentInfo.qf3" required>
            </div>
        </div>
        <div class="col-md-6">
            <!-- Right column -->
            <div class="form-group">
                <label for="qf4">Quarter-Finalist 4:</label>
                <input list="menPlayers" class="form-control" id="qf4" name="qf4" value="@Model.tournamentInfo.qf4" required>
            </div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
</form>
